(window.webpackJsonp=window.webpackJsonp||[]).push([["JSON-schema-form","JSON-schema-form-schema-form"],{"0f1e":function(e,t,r){"use strict";r("bb25")},5873:function(e,t,r){"use strict";r.r(t);var n,a=r("5530"),o=(r("4de4"),r("7a23")),c=Object(o.withScopeId)("data-v-4dec663f"),i=c((function(e,t,r,n,i,l){var f=Object(o.resolveComponent)("a-form-item"),u=Object(o.resolveComponent)("a-spin"),d=Object(o.resolveComponent)("a-form");return Object(o.openBlock)(),Object(o.createBlock)(d,Object(o.mergeProps)({ref:"schemaFormRef",class:"scroll"},e.formItemLayout),{default:c((function(){var t,r,n,i;return[(Object(o.openBlock)(!0),Object(o.createBlock)(o.Fragment,null,Object(o.renderList)(e.dynamicValidateForm.formItem.filter((function(e){return!e.hidden})),(function(t,r){return Object(o.openBlock)(),Object(o.createBlock)(u,{key:t.field,spinning:t.loading||!1},{default:c((function(){return[Object(o.createVNode)(f,Object(o.mergeProps)({help:t.help,extra:t.extra,label:t.label,name:t.field},Object(a.a)(Object(a.a)({},t.props),e.validateInfos[t.field])),{default:c((function(){return[(Object(o.openBlock)(),Object(o.createBlock)(Object(o.resolveDynamicComponent)(e.getComponent(t.type)),Object(o.mergeProps)({value:e.modelRef[t.field],"onUpdate:value":function(r){return e.modelRef[t.field]=r},"form-item":t},Object(o.toHandlers)(Object(a.a)({},e.getTriggerEvent(t)))),null,16,["value","onUpdate:value","form-item"]))]})),_:2},1040,["help","extra","label","name"])]})),_:2},1032,["spinning"])})),128)),e.$slots["operate-button"]?(Object(o.openBlock)(),Object(o.createBlock)(f,{key:0,"wrapper-col":{span:null===(t=e.formItemLayout)||void 0===t||null===(r=t.wrapperCol)||void 0===r?void 0:r.span,offset:null===(n=e.formItemLayout)||void 0===n||null===(i=n.labelCol)||void 0===i?void 0:i.span}},{default:c((function(){return[Object(o.renderSlot)(e.$slots,"operate-button")]})),_:3},8,["wrapper-col"])):Object(o.createCommentVNode)("",!0)]})),_:1},16)})),l=r("1da1"),f=r("ade3"),u=(r("7f6b"),r("8592")),d=(r("f2ef"),r("3af3")),s=(r("96cf"),r("b0c0"),r("13d5"),r("159b"),r("d3b7"),r("caad"),r("55ac")),m=r("b35d"),b=r("5550"),p=d.a.useForm,O=Object(o.defineComponent)({name:"dynamic-form",components:Object(a.a)(Object(a.a)({},m.default),{},(n={},Object(f.a)(n,u.a.name,u.a),Object(f.a)(n,d.a.name,d.a),Object(f.a)(n,d.a.Item.name,d.a.Item),n)),props:{formSchema:{required:!0,type:Object},fields:{type:Object,default:function(){return{}}}},setup:function(e,t){var r=Object(o.reactive)({dynamicValidateForm:e.formSchema}),n=Object(o.ref)(null),c=Object(o.getCurrentInstance)(),i=Object(a.a)({},e.formSchema.formItemLayout),f=Object(o.reactive)(e.formSchema.formItem.reduce((function(e,t){var r;return null!==(r=t.eventObject)&&void 0!==r||(t.eventObject={}),e[t.field]=t.value,e}),{}));e.fields&&Object.assign(f,e.fields),e.formSchema.formItem.forEach(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.hasOwnProperty("loading")&&(t.loading=!0),!Object(s.b)(t.asyncOptions)&&!Object(s.a)(t.asyncOptions)){e.next=11;break}return e.next=4,t.asyncOptions(t,c).finally((function(){r.dynamicValidateForm.formItem[n].loading=!1}));case 4:return r.dynamicValidateForm.formItem[n].options=e.sent,e.next=7,t.asyncOptions(t,c).finally((function(){t.loading=!1}));case 7:t.options=e.sent,e.next=15;break;case 11:if(!Object(s.b)(t.asyncValue)&&!Object(s.a)(t.asyncValue)){e.next=15;break}return e.next=14,t.asyncValue(t,c).finally((function(){return t.loading=!1}));case 14:f[t.field]=e.sent;case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());var u=Object(o.reactive)(e.formSchema.formItem.filter((function(e){return!e.hidden})).reduce((function(e,t){return t.rules&&(e[t.field]=t.rules),e}),{}));localStorage.setItem("z_modelRef",JSON.stringify(f));var d=p(f,u),m=d.resetFields,O=d.validate,j=d.validateInfos,g=d.validateField,v=["input","textarea","select","radio","checkbox","input-number","input-range","switch"],y=function(e){var t=e.field,r=e.trigger;return function(){return O(t,{trigger:r}).catch((function(){return{}}))}};return Object(a.a)(Object(a.a)({},Object(b.a)(r)),{},{formItemLayout:i,validate:O,resetFields:m,validateField:g,validateInfos:j,modelRef:f,schemaFormRef:n,getTriggerEvent:function(e){var t,r={},n=e.field;if(Array.isArray(e.rules))e.rules.forEach((function(e){Array.isArray(e.trigger)?e.trigger.forEach((function(e){return r[e]=y({field:n,trigger:e})})):Object(s.c)(e.trigger)&&(r[e.trigger]=y({field:n,trigger:e.trigger}))}));else if(null!==(t=e.rules)&&void 0!==t&&t.trigger){var a,o=null===(a=e.rules)||void 0===a?void 0:a.trigger;r[o]=y({field:n,trigger:o}),Array.isArray(o)?o.forEach((function(e){return r[e]=y({field:n,trigger:e})})):Object(s.c)(o)&&(r[o]=y({field:n,trigger:o}))}return r},getComponent:function(e){return v.includes(e)?"schema-form-"+e:Object(o.isReactive)(e)||Object(o.isRef)(e)?Object(o.createVNode)(e):e}})}});r("0f1e"),O.render=i,O.__scopeId="data-v-4dec663f",t.default=O},"5f73":function(e,t,r){"use strict";r.r(t);var n=r("5873");r.d(t,"SchemaForm",(function(){return n.default}))},bb25:function(e,t,r){}}]);