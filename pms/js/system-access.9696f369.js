(window.webpackJsonp=window.webpackJsonp||[]).push([["system-access"],{"072c":function(e,t,n){"use strict";n("7dbf")},"2b29":function(e,t,n){},7606:function(e,t,n){"use strict";n("2b29")},7996:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o.a})),n.d(t,"a",(function(){return u})),n("1da1"),n("96cf"),n("d3b7");var a=n("7a23"),r=n("5530");function c(e){var t=Object(a.ref)(Object(r.a)({current:1,pageSize:10,total:0,pageSizeOptions:["10","20","30","40","50"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"共 ".concat(e," 条")},onChange:function(t,n){var a;null==e||null===(a=e.pageChange)||void 0===a||a.call(e,t,n),null==e||e.pageChangeFn({pageNum:t,pageSize:n,current:t})},onShowSizeChange:function(t,n){var a;null==e||null===(a=e.pageChange)||void 0===a||a.call(e,t,n),null==e||e.pageChangeFn({pageNum:t,pageSize:n,current:t})}},e));return{pageOption:t,updatePageOption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(t.value,e)}}}var o=n("76b3"),u=(n("159b"),n("b64b"),n("b0c0"),function(e,t,n){var c,o=document.createElement("div"),u=function(){c=null,Object(a.render)(null,o),o.remove()};return(c=Object(a.createVNode)(e)).props=Object(a.mergeProps)(c.props,Object(r.a)({remove:u},t)),Object(a.render)(c,o),c.component.ctx.remove=u,c.component.ctx.$updateProps=function(e){e&&Object.keys(e).forEach((function(t){c.component.props[t]=e[t]}))},c.component.ctx})},"7dbf":function(e,t,n){},"8abb":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=Object(a.withScopeId)("data-v-7367c0e4");Object(a.pushScopeId)("data-v-7367c0e4");var c={class:"flex"},o=Object(a.createTextVNode)("Zone one"),u=Object(a.createTextVNode)("Zone two"),l=Object(a.createTextVNode)(" 搜索 "),i=Object(a.createTextVNode)(" 重置 "),d=Object(a.createTextVNode)(" 添加 "),s=Object(a.createTextVNode)(" 展开/折叠 ");Object(a.popScopeId)();var p,m=r((function(e,t,n,p,m,f){var b=Object(a.resolveComponent)("a-input"),O=Object(a.resolveComponent)("a-form-item"),v=Object(a.resolveComponent)("a-select-option"),j=Object(a.resolveComponent)("a-select"),N=Object(a.resolveComponent)("SearchOutlined"),y=Object(a.resolveComponent)("a-button"),h=Object(a.resolveComponent)("RetweetOutlined"),g=Object(a.resolveComponent)("a-form"),V=Object(a.resolveComponent)("a-card"),w=Object(a.resolveComponent)("dynamic-table"),_=Object(a.resolveDirective)("permission");return Object(a.openBlock)(),Object(a.createBlock)(a.Fragment,null,[Object(a.createVNode)(V,{class:"g-search-card mb20"},{default:r((function(){return[Object(a.createVNode)(g,{model:e.formState,"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:r((function(){return[Object(a.createVNode)("div",c,[Object(a.createVNode)(O,{label:"菜单名称",class:"w50"},{default:r((function(){return[Object(a.createVNode)(b,{value:e.formState.menuName,"onUpdate:value":t[1]||(t[1]=function(t){return e.formState.menuName=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(O,{label:"菜单状态",class:"w50 mr20"},{default:r((function(){return[Object(a.createVNode)(j,{value:e.formState.visible,"onUpdate:value":t[2]||(t[2]=function(t){return e.formState.visible=t}),placeholder:"please select your zone"},{default:r((function(){return[Object(a.createVNode)(v,{value:"shanghai"},{default:r((function(){return[o]})),_:1}),Object(a.createVNode)(v,{value:"beijing"},{default:r((function(){return[u]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(a.createVNode)(O,null,{default:r((function(){return[Object(a.createVNode)(y,{type:"primary"},{title:r((function(){return[Object(a.createVNode)(N)]})),default:r((function(){return[l]})),_:1})]})),_:1}),Object(a.createVNode)(O,null,{default:r((function(){return[Object(a.createVNode)(y,{type:"primary"},{title:r((function(){return[Object(a.createVNode)(h)]})),default:r((function(){return[i]})),_:1})]})),_:1})])]})),_:1},8,["model","label-col","wrapper-col"])]})),_:1}),Object(a.createVNode)(w,{ref:"tableRef",columns:e.columns,pageOption:e.pageOption,"get-list-func":e.adminMenu,rowKey:e.rowKey},{title:r((function(){return[Object(a.withDirectives)(Object(a.createVNode)(y,{onClick:e.addItem,type:"primary"},{default:r((function(){return[d]})),_:1},8,["onClick"]),[[_,{action:void 0,effect:"disabled"}]]),Object(a.createVNode)(y,{onClick:e.isOpen,type:"primary"},{default:r((function(){return[s]})),_:1},8,["onClick"])]})),_:1},8,["columns","pageOption","get-list-func","rowKey"])],64)})),f=n("5530"),b=n("1da1"),O=(n("96cf"),n("a15b"),n("a526")),v=n("3bb8");function j(e){return O.a.request({url:p.adminMenu,method:v.b.GET,params:e})}function N(e){return O.a.request({url:p.adminMenuEdit,method:v.b.POST,params:e},{isShowErrorMessage:!0,successMessageText:"修改成功"})}function y(e){return O.a.request({url:p.adminMenuRemove,method:v.b.POST,params:e},{isShowErrorMessage:!0,successMessageText:"修改成功"})}!function(e){e.adminMenu="/system/menu/list",e.adminMenuAdd="/system/menu/add",e.adminMenuEdit="/system/menu/edit",e.adminMenuRemove="/system/menu/remove",e.adminMenuAccess="/admin/menu_access"}(p||(p={}));var h=n("1016"),g=(n("3b18"),n("f64c")),V=n("7996"),w=(n("b0c0"),Object(a.withScopeId)("data-v-ee7d7ea4"));Object(a.pushScopeId)("data-v-ee7d7ea4");var _={class:"add_title"},R=Object(a.createTextVNode)("目录"),x=Object(a.createTextVNode)("菜单"),S=Object(a.createTextVNode)("按钮"),T=Object(a.createTextVNode)("PC"),C=Object(a.createTextVNode)("MOBILE"),k=Object(a.createTextVNode)("显示"),I=Object(a.createTextVNode)("隐藏");Object(a.popScopeId)();var M,U=w((function(e,t,n,r,c,o){var u=Object(a.resolveComponent)("a-input"),l=Object(a.resolveComponent)("a-form-item"),i=Object(a.resolveComponent)("a-radio"),d=Object(a.resolveComponent)("a-radio-group"),s=Object(a.resolveComponent)("a-form"),p=Object(a.resolveComponent)("a-modal");return Object(a.openBlock)(),Object(a.createBlock)(p,{visible:e.visible,"onUpdate:visible":t[10]||(t[10]=function(t){return e.visible=t})},{default:w((function(){return[Object(a.createVNode)("div",_,Object(a.toDisplayString)(e.modalRef.id?"修改菜单":"添加菜单"),1),Object(a.createVNode)(s,null,{default:w((function(){return[Object(a.createVNode)(l,{label:"上级菜单"},{default:w((function(){return[Object(a.createVNode)(u,{placeholder:"请选择上级菜单",value:e.modalRef.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.modalRef.name=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"菜单类型"},{default:w((function(){return[Object(a.createVNode)(d,{value:e.modalRef.menuType,"onUpdate:value":t[2]||(t[2]=function(t){return e.modalRef.menuType=t})},{default:w((function(){return[Object(a.createVNode)(i,{value:0},{default:w((function(){return[R]})),_:1}),Object(a.createVNode)(i,{value:1},{default:w((function(){return[x]})),_:1}),Object(a.createVNode)(i,{value:2},{default:w((function(){return[S]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"菜单场景"},{default:w((function(){return[Object(a.createVNode)(d,{value:e.modalRef.menuScene,"onUpdate:value":t[3]||(t[3]=function(t){return e.modalRef.menuScene=t})},{default:w((function(){return[Object(a.createVNode)(i,{value:1},{default:w((function(){return[T]})),_:1}),Object(a.createVNode)(i,{value:2},{default:w((function(){return[C]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"菜单名称"},{default:w((function(){return[Object(a.createVNode)(u,{placeholder:"请输入菜单名称",value:e.modalRef.menuName,"onUpdate:value":t[4]||(t[4]=function(t){return e.modalRef.menuName=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"请求地址"},{default:w((function(){return[Object(a.createVNode)(u,{placeholder:"请输入请求地址",value:e.modalRef.url,"onUpdate:value":t[5]||(t[5]=function(t){return e.modalRef.url=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"权限标识"},{default:w((function(){return[Object(a.createVNode)(u,{placeholder:"请输入权限标识",value:e.modalRef.perms,"onUpdate:value":t[6]||(t[6]=function(t){return e.modalRef.perms=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"显示排序"},{default:w((function(){return[Object(a.createVNode)(u,{placeholder:"请输入显示排序",value:e.modalRef.orderNum,"onUpdate:value":t[7]||(t[7]=function(t){return e.modalRef.orderNum=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"图标"},{default:w((function(){return[Object(a.createVNode)(u,{placeholder:"请选择图标",value:e.modalRef.icon,"onUpdate:value":t[8]||(t[8]=function(t){return e.modalRef.icon=t})},null,8,["value"])]})),_:1}),Object(a.createVNode)(l,{label:"菜单状态"},{default:w((function(){return[Object(a.createVNode)(d,{value:e.modalRef.visible,"onUpdate:value":t[9]||(t[9]=function(t){return e.modalRef.visible=t})},{default:w((function(){return[Object(a.createVNode)(i,{value:1},{default:w((function(){return[k]})),_:1}),Object(a.createVNode)(i,{value:2},{default:w((function(){return[I]})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["visible"])})),q=n("ade3"),E=(n("5704"),n("b558")),z=(n("5783"),n("59a5")),D=(n("f2ef"),n("3af3")),P=(n("cd17"),n("ed3b")),K=Object(a.defineComponent)({name:"add-model",components:(M={},Object(q.a)(M,P.a.name,P.a),Object(q.a)(M,D.a.name,D.a),Object(q.a)(M,z.a.name,z.a),Object(q.a)(M,E.a.name,E.a),Object(q.a)(M,"aRadioGroup",z.a.Group),Object(q.a)(M,"aFormItem",D.a.Item),M),props:{},setup:function(){var e=Object(a.reactive)({visible:!0,confirmLoading:!1,moduleList:[]}),t=Object(a.reactive)({menuType:0,menuScene:1,menuName:"",url:"",perms:"",orderNum:0,icon:"",visible:1});return Object(f.a)(Object(f.a)({},Object(a.toRefs)(e)),{},{modalRef:t})}});n("7606"),K.render=U,K.__scopeId="data-v-ee7d7ea4";var B,L=K,F=n("76b3"),A=(n("d81d"),n("c099")),G=[{title:"parent 1",key:"0-0",children:[{title:"parent 1-0",key:"0-0-0",disabled:!0,children:[{title:"leaf",key:"0-0-0-0",disableCheckbox:!0},{title:"leaf",key:"0-0-0-1"}]},{title:"parent 1-1",key:"0-0-1",children:[{key:"0-0-1-0",slots:{title:"title0010"}}]}]}],J=function(){return{style:{width:"auto"},formItemLayout:{labelCol:{span:4},wrapperCol:{span:20}},formItem:[{type:"tree",label:"上级菜单",field:"menuTypes",treeOptions:G,value:"",props:{placeholder:"请输入上级菜单"},rules:[{required:!0,message:"上级菜单不能为空"}]},{type:"radio",label:"菜单类型",field:"menuType",value:"0",asyncOptions:(n=Object(b.a)(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={dictType:"sys_menu_type"},e.next=3,Object(A.d)(a);case 3:return r=e.sent,e.abrupt("return",r.data.map((function(e){return e})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{type:"radio",label:"菜单场景",field:"menuScene",value:"1",asyncOptions:(t=Object(b.a)(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={dictType:"sys_menu_scene"},e.next=3,Object(A.d)(a);case 3:return r=e.sent,e.abrupt("return",r.data.map((function(e){return e})));case 5:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{type:"input",label:"菜单名称",field:"menuName",value:"",props:{placeholder:"请输入菜单名称"},rules:[{required:!0,message:"菜单名称不能为空"}]},{type:"input",label:"请求地址",field:"url",value:"",props:{placeholder:"请输入请求地址"},rules:[{required:!0,message:"请求地址不能为空"}]},{type:"input",label:"权限标识",field:"perms",value:"",props:{placeholder:"请输入权限标识"},rules:[{required:!0,message:"权限标识不能为空"}]},{type:"input",label:"显示排序",field:"orderNum",value:"",props:{placeholder:""},rules:[{required:!0,message:""}]},{type:"input",label:"图标",field:"icon",value:"",props:{placeholder:""},rules:[{required:!0,message:""}]},{type:"radio",label:"菜单状态",field:"visible",value:"0",asyncOptions:(e=Object(b.a)(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={dictType:"sys_show_hide"},e.next=3,Object(A.d)(a);case 3:return r=e.sent,e.abrupt("return",r.data.map((function(e){return e})));case 5:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})}]};var e,t,n},Z=[{title:"",dataIndex:"menuName",slots:{customRender:"moduleName"}},{title:"菜单名称",dataIndex:"menuName"},{title:"场景",dataIndex:"menuScene"},{title:"请求地址",dataIndex:"url"},{title:"类型",dataIndex:"menuType"},{title:"可见",dataIndex:"visible"},{title:"权限标识",dataIndex:"perms"},{title:"操作",dataIndex:"action",width:200,slots:{customRender:"action"},actions:[{type:"button",text:"编辑",props:{type:"warning"},func:function(e,t){var n,a=e.record;return Object(F.a)({title:"编辑菜单",fields:{menuScene:a.menuScene,menuType:a.menuType,menuName:a.menuName},formSchema:J(),handleOk:(n=Object(b.a)(regeneratorRuntime.mark((function e(n,a){var r,c,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.menuScene,c=n.menuType,o=n.menuName,u={menuScene:r,menuType:c,menuName:o},e.next=5,N(u).then((function(){return t()}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})})}},{type:"button",text:"新增",props:{type:"warning",background:"red"},func:function(e,t){var n=e.record;return Object(V.a)(L,{fields:n,callback:t})}},{type:"popconfirm",text:"删除",permission:{action:"delete",effect:"disabled"},props:{type:"danger"},func:(B=Object(b.a)(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.record).id<6)){e.next=3;break}return e.abrupt("return",g.a.warn("系统预置菜单，不能删除！"));case 3:return e.next=5,y(a.id).then((function(){return n()}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)})}]}],Q=Object(a.defineComponent)({name:"system-menu",components:{DynamicTable:h.DynamicTable},created:function(){},setup:function(){var e=Object(a.reactive)({name:"",region:void 0,delivery:!1,type:[],resource:"",desc:""}),t=Object(a.ref)(null),n=Object(a.reactive)({tableLoading:!1,rowSelection:{onChange:function(e,t){n.rowSelection.selectedRowKeys=e},selectedRowKeys:[]}}),r=Object(a.computed)((function(){return 0==n.rowSelection.selectedRowKeys.length}));return Object(f.a)(Object(f.a)({},Object(a.toRefs)(n)),{},{columns:Z,tableRef:t,adminMenu:j,isDisabled:r,addItem:function(){var e;Object(F.a)({title:"添加菜单",formSchema:J(),handleOk:(e=Object(b.a)(regeneratorRuntime.mark((function e(n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=n,O.a.request({url:p.adminMenuAdd,method:v.b.POST,params:a},{isShowErrorMessage:!0,successMessageText:"创建成功"});case 2:t.value.refreshTableData();case 3:case"end":return e.stop()}var a}),e)}))),function(t,n){return e.apply(this,arguments)})})},formState:e,adminMenuRemove:y})}});n("072c"),Q.render=m,Q.__scopeId="data-v-7367c0e4",t.default=Q}}]);