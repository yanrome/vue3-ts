(window.webpackJsonp=window.webpackJsonp||[]).push([["system-role"],{"0a24":function(e,t,r){},"3c7f":function(e,t,r){"use strict";var n=r("7a23"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},o=r("b3f0");function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},e,t.attrs);return n.createVNode(o.a,n.mergeProps(r,{icon:a}),null)};s.displayName="QuestionCircleOutlined",s.inheritAttrs=!1,t.a=s},7297:function(e,t,r){"use strict";r("0a24")},bb446:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n.withScopeId)("data-v-5e0fcb16");Object(n.pushScopeId)("data-v-5e0fcb16");var o={class:"flex"},c=Object(n.createTextVNode)("Zone one"),s=Object(n.createTextVNode)("Zone two"),u=Object(n.createTextVNode)(" 搜索 "),l=Object(n.createTextVNode)(" 重置 "),i=Object(n.createTextVNode)(" 新增 ");Object(n.popScopeId)();var d,p=a((function(e,t,r,d,p,f){var m=Object(n.resolveComponent)("a-input"),b=Object(n.resolveComponent)("a-form-item"),O=Object(n.resolveComponent)("a-select-option"),v=Object(n.resolveComponent)("a-select"),j=Object(n.resolveComponent)("SearchOutlined"),y=Object(n.resolveComponent)("a-button"),h=Object(n.resolveComponent)("RetweetOutlined"),w=Object(n.resolveComponent)("a-form"),g=Object(n.resolveComponent)("a-card"),R=Object(n.resolveComponent)("dynamic-table");return Object(n.openBlock)(),Object(n.createBlock)(n.Fragment,null,[Object(n.createVNode)(g,{class:"g-search-card mb20"},{default:a((function(){return[Object(n.createVNode)(w,{model:e.formState,"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:a((function(){return[Object(n.createVNode)("div",o,[Object(n.createVNode)(b,{label:"角色名称",class:"w50"},{default:a((function(){return[Object(n.createVNode)(m,{value:e.formState.roleName,"onUpdate:value":t[1]||(t[1]=function(t){return e.formState.roleName=t})},null,8,["value"])]})),_:1}),Object(n.createVNode)(b,{label:"角色状态",class:"w50 mr20"},{default:a((function(){return[Object(n.createVNode)(v,{value:e.formState.status,"onUpdate:value":t[2]||(t[2]=function(t){return e.formState.status=t}),placeholder:"please select your zone"},{default:a((function(){return[Object(n.createVNode)(O,{value:"shanghai"},{default:a((function(){return[c]})),_:1}),Object(n.createVNode)(O,{value:"beijing"},{default:a((function(){return[s]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(n.createVNode)(b,null,{default:a((function(){return[Object(n.createVNode)(y,{type:"primary"},{title:a((function(){return[Object(n.createVNode)(j)]})),default:a((function(){return[u]})),_:1})]})),_:1}),Object(n.createVNode)(b,null,{default:a((function(){return[Object(n.createVNode)(y,{type:"primary"},{title:a((function(){return[Object(n.createVNode)(h)]})),default:a((function(){return[l]})),_:1})]})),_:1})])]})),_:1},8,["model","label-col","wrapper-col"])]})),_:1}),Object(n.createVNode)(R,{ref:"tableRef",columns:e.columns,"get-list-func":e.getAdminRole,rowKey:"id","row-selection":e.rowSelection},{title:a((function(){return[Object(n.createVNode)(y,{onClick:e.addItem,type:"primary"},{default:a((function(){return[i]})),_:1},8,["onClick"])]})),_:1},8,["columns","get-list-func","row-selection"])],64)})),f=r("5530"),m=r("1da1"),b=(r("cd17"),r("ed3b")),O=(r("96cf"),r("d3b7"),r("25f0"),r("a4d3"),r("e01a"),r("3c7f")),v=r("1016"),j=(r("a15b"),r("a526")),y=r("3bb8");function h(e){return j.a.request({url:d.adminRole,method:y.b.POST,params:e})}function w(e){return j.a.request({url:[d.adminRoleRemove,e].join("/"),method:y.b.DELETE},{isShowErrorMessage:!0,successMessageText:"删除成功"})}function g(e){return j.a.request({url:d.adminRoleEdit,method:y.b.POST,params:e},{isShowErrorMessage:!0,successMessageText:"修改成功"})}function R(e){return j.a.request({url:d.adminRoleAdd,method:y.b.POST,params:e},{isShowErrorMessage:!0,successMessageText:"创建成功"})}!function(e){e.adminRole="/system/role/list",e.adminRoleAdd="/system/role/add",e.adminRoleEdit="/system/role/edit",e.adminRoleRemove="/system/role/remove",e.adminRoleAccess="/admin/role_access"}(d||(d={}));var N,S=r("76b3"),x=r("c099"),V=function(){return{style:{width:"auto"},formItemLayout:{labelCol:{span:4},wrapperCol:{span:20}},formItem:[{type:"input",label:"角色名称",field:"roleName",value:"",props:{placeholder:"请输入角色名称"},rules:[{required:!0,message:"角色名称不能为空"}]},{type:"select",label:"角色类型",field:"roleType",value:"",asyncOptions:(e=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={dictType:"sys_user_sex"},e.next=3,Object(x.d)(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)}))),function(t,r){return e.apply(this,arguments)})},{type:"input",label:"角色标志",field:"name",value:"",props:{placeholder:"请输入角色标志"},rules:[{required:!0,message:"角色标志不能为空"}]},{type:"input",label:"显示顺序",field:"orderNum",value:"",props:{placeholder:"请输入显示顺序"},rules:[{required:!0,message:"显示顺序不能为空"}]},{type:"switch",label:"状态",field:"status",value:""},{type:"input",label:"备注",field:"remark",value:"",props:{placeholder:"请输入备注"}}]};var e},C=[{title:"角色名称",dataIndex:"roleName"},{title:"角色标志",dataIndex:"name"},{title:"显示顺序",dataIndex:"orderNum"},{title:"状态",dataIndex:"status"},{title:"备注",dataIndex:"remark"},{title:"操作",dataIndex:"action",width:200,slots:{customRender:"action"},actions:[{type:"button",text:"编辑",props:{type:"warning"},func:function(e,t){var r,n=e.record;return Object(S.a)({title:"编辑角色",fields:n,formSchema:V(),handleOk:(r=Object(m.a)(regeneratorRuntime.mark((function e(r,n){var a,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.description,o=r.title,c=r.accessIdsList,s={description:a,title:o,accessIdsList:c.toString()},e.next=4,g(s).then((function(){return t()}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})})}},{type:"popconfirm",text:"删除",props:{type:"danger"},func:(N=Object(m.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.record,e.next=3,w(n.id).then((function(){return r()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)})}]}],I=Object(n.defineComponent)({name:"system-role",components:{DynamicTable:v.DynamicTable},setup:function(){var e=Object(n.reactive)({name:"",region:void 0,delivery:!1,type:[],resource:"",desc:""}),t=Object(n.ref)(null),r=Object(n.reactive)({tableLoading:!1,rowSelection:{onChange:function(e,t){r.rowSelection.selectedRowKeys=e},selectedRowKeys:[]}}),a=Object(n.computed)((function(){return 0==r.rowSelection.selectedRowKeys.length}));return Object(f.a)(Object(f.a)({},Object(n.toRefs)(r)),{},{columns:C,tableRef:t,getAdminRole:h,isDisabled:a,addItem:function(){var e;Object(S.a)({title:"添加用户",formSchema:V(),handleOk:(e=Object(m.a)(regeneratorRuntime.mark((function e(r,n){var a,o,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.description,o=r.title,c=r.accessIdsList,s={description:a,title:o,accessIdsList:c.toString()},e.next=6,R(s);case 6:t.value.refreshTableData();case 7:case"end":return e.stop()}}),e)}))),function(t,r){return e.apply(this,arguments)})})},formState:e,deleteItems:function(){var e;b.a.confirm({title:"提示",icon:Object(n.createVNode)(O.a),content:"您确定要删除所有选中吗？",onOk:(e=Object(m.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r.rowSelection.selectedRowKeys.toString());case 2:t.value.refreshTableData(),r.rowSelection.selectedRowKeys=[];case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})}})}});r("7297"),I.render=p,I.__scopeId="data-v-5e0fcb16",t.default=I}}]);